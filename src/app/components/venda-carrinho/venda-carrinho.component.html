<div class="main-container">
  <div>

  </div>
  <p-table [value]="visorConcreto" [tableStyle]="{ 'min-width': '5rem' }">
    <ng-template pTemplate="header">
      <tr>
        <th>Produto</th>
        <th>Valor Unitário</th>
        <th>Quantidade</th>
        <th>Total</th>
        <th>Desconto</th>
        <th></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item>
      <tr>
        <td>{{ item.nomeProduto }}</td>
        <td>{{ item.valorUnitario }}</td>
        <td>{{ item.quantidade }}</td>
        <td>{{ item.desconto }}</td>
        <td>{{ item.total }}</td>
        <td>
          <p-button
            icon="pi pi-trash"
            styleClass="p-button-danger p-button-text"
            (onClick)="handleClick(item.id)"
          ></p-button>
        </td>
      </tr>
    </ng-template>
  </p-table>
  <form
    [formGroup]="formulario"
    (ngSubmit)="clickHandler()"
    class="form-container"
  >
    <div class="elemento-formulario">
      <label for="nomeProduto">Nome do Produto</label>
      <input
        pInputText
        type="text"
        id="nomeProduto"
        formControlName="nomeProduto"
        class="p-inputtext-sm"
      />
      <p
        class="p-error"
        [ngClass]="{
          hidden: !warningVisibility(formulario.controls.nomeProduto)
        }"
      >
        Nome do produto inválido
      </p>
    </div>
    <div class="elemento-formulario">
      <label for="valorUnitario">Valor Unitário</label>
      <input
        pInputText
        type="number"
        id="valorUnitario"
        formControlName="valorUnitario"
        class="p-inputtext-sm"
      />
      <p
      class="p-error"
      [ngClass]="{
        hidden: !warningVisibility(formulario.controls.valorUnitario)
      }"
    >
      Valor inválido
    </p>
    </div>
    <div class="elemento-formulario">
      <label for="quantidade">Quantidade:</label>
      <input
        pInputText
        type="number"
        id="quantidade"
        formControlName="quantidade"
        class="p-inputtext-sm"
      />
      <p
      class="p-error"
      [ngClass]="{
        hidden: !warningVisibility(formulario.controls.quantidade)
      }"
    >
      Quantidade Inválida
    </p>
    </div>
    <div class="elemento-formulario">
      <label for="desconto">Desconto:</label>
      <input
        pInputText
        type="number"
        id="desconto"
        formControlName="desconto"
        class="p-inputtext-sm"
      />
      <p class="hidden">p</p>
    </div>
    <button
      pButton
      pRipple
      label="Adicionar"
      class="p-button-success p-button-sm"
      [disabled]="formulario.invalid"
    ></button>
  </form>
</div>
